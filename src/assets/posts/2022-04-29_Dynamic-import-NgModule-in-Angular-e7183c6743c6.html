<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Dynamic import NgModule in Angular</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Dynamic import NgModule in Angular</h1>
</header>
<section data-field="subtitle" class="p-summary">
How to lazy-load NgModule and Component by using routing, everyone knows. But sometimes you need to lazy load NgModule without routing.
</section>
<section data-field="body" class="e-content">
<section name="7d8b" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b793" id="b793" class="graf graf--h3 graf--leading graf--title">Dynamic import NgModule in Angular</h3><figure name="449d" id="449d" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*ZD2yDRxPcuEV_qLtnQskTw.png" data-width="1920" data-height="1080" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*ZD2yDRxPcuEV_qLtnQskTw.png"></figure><p name="b4c6" id="b4c6" class="graf graf--p graf-after--figure">How to lazy-load NgModule and Component by using routing, everyone knows. But sometimes you need to lazy load NgModule without routing.</p><p name="5538" id="5538" class="graf graf--p graf-after--p">First of all, we need to create NgModule and import it to AppModule, like you usually do it, in order to make sure that you did everything right.</p><figure name="ebf7" id="ebf7" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/TeslenkoOleg/9633faddc97f4e96baf10f35f95deb7e.js"></script><figcaption class="imageCaption">dynamic.module.ts</figcaption></figure><figure name="d683" id="d683" class="graf graf--figure graf--iframe graf-after--figure"><script src="https://gist.github.com/TeslenkoOleg/0ca22ae2e8d9534663da7298403bafb5.js"></script><figcaption class="imageCaption">app.module.ts</figcaption></figure><p name="1fc1" id="1fc1" class="graf graf--p graf-after--figure">For showing more clearly how it works I decided to create <em class="markup--em markup--p-em">dynamic.component.ts</em> and import it to <em class="markup--em markup--p-em">dynamic.module.ts.</em></p><figure name="c48e" id="c48e" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/TeslenkoOleg/bc68625dfc486aecf2cae515164afbf4.js"></script><figcaption class="imageCaption">dynamic.component.ts</figcaption></figure><p name="407d" id="407d" class="graf graf--p graf-after--figure">After that we need to create in <em class="markup--em markup--p-em">app.component.html </em>two buttons (load / clear) and <em class="markup--em markup--p-em">ng-template</em> for our<em class="markup--em markup--p-em"> dynamic.component.ts </em>(in my previously <a href="https://medium.com/@teslenkooleg2017/angular-13-create-multiple-dynamic-components-using-directive-ngfor-effe0850a69d" data-href="https://medium.com/@teslenkooleg2017/angular-13-create-multiple-dynamic-components-using-directive-ngfor-effe0850a69d" class="markup--anchor markup--p-anchor" target="_blank">article</a> I showed how to dynamic load Angular Components)<em class="markup--em markup--p-em">.</em></p><div name="880d" id="880d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://medium.com/@teslenkooleg2017/angular-13-create-multiple-dynamic-components-using-directive-ngfor-effe0850a69d" data-href="https://medium.com/@teslenkooleg2017/angular-13-create-multiple-dynamic-components-using-directive-ngfor-effe0850a69d" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/@teslenkooleg2017/angular-13-create-multiple-dynamic-components-using-directive-ngfor-effe0850a69d"><strong class="markup--strong markup--mixtapeEmbed-strong">Angular 13: Create multiple dynamic components using directive — ngFor.</strong><br><em class="markup--em markup--mixtapeEmbed-em">Of course, there are many articles about creating dynamic components in Angular, and most of them describe the simplest…</em>medium.com</a><a href="https://medium.com/@teslenkooleg2017/angular-13-create-multiple-dynamic-components-using-directive-ngfor-effe0850a69d" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="fe5b1db0dded417ad2f2dbd05eb2fea5" data-thumbnail-img-id="1*wqBOf_Hc_c2MxgUjnGy4Og.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*wqBOf_Hc_c2MxgUjnGy4Og.png);"></a></div><figure name="f301" id="f301" class="graf graf--figure graf--iframe graf-after--mixtapeEmbed"><script src="https://gist.github.com/TeslenkoOleg/c71a67421e623ee434afacfd633cffbf.js"></script><figcaption class="imageCaption">app.component.html</figcaption></figure><p name="264a" id="264a" class="graf graf--p graf-after--figure">And update <em class="markup--em markup--p-em">app.component.ts:<br>- @ViewChild — </em>matching with #container<em class="markup--em markup--p-em">.<br>- function loadModule() — </em>import<em class="markup--em markup--p-em"> dynamic.module.ts.<br>- createNgModuleRef — </em>create and load<em class="markup--em markup--p-em"> dynamic.module.ts.<br>- ComponentRef</em> — create component<em class="markup--em markup--p-em">.<br></em>Function clearComponent() just remove component from container.</p><figure name="33a7" id="33a7" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/TeslenkoOleg/e8a4aa74fb43c82306066f7b7253a8b2.js"></script><figcaption class="imageCaption">app.component.ts</figcaption></figure><p name="b8fa" id="b8fa" class="graf graf--p graf-after--figure">Don’t forget to remove DynamicModule from imports in AppModule.<br>If you do all correctly, you can see result like this.</p><figure name="e430" id="e430" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8rmua1sfgWTQLPs7tSgY7A.gif" data-width="310" data-height="176" src="https://cdn-images-1.medium.com/max/800/1*8rmua1sfgWTQLPs7tSgY7A.gif"><figcaption class="imageCaption">result</figcaption></figure><p name="089b" id="089b" class="graf graf--p graf-after--figure graf--trailing">PS. Angular version 13 and later are using simplicity syntax, for oldest version you need to see documentation.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@teslenkooleg2017" class="p-author h-card">Oleh Teslenko</a> on <a href="https://medium.com/p/e7183c6743c6"><time class="dt-published" datetime="2022-04-29T14:04:06.973Z">April 29, 2022</time></a>.</p><p><a href="https://medium.com/@teslenkooleg2017/dynamic-import-ngmodule-angular-13-e7183c6743c6" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 8, 2024.</p></footer></article></body></html>