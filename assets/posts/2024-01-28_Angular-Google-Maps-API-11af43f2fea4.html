<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Angular Google Maps API</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Angular Google Maps API</h1>
</header>
<section data-field="subtitle" class="p-summary">
How to integrate Google Maps API into your Angular application without fear of third-party libraries? Not many Angular developers know…
</section>
<section data-field="body" class="e-content">
<section name="69ad" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="98b8" id="98b8" class="graf graf--h3 graf--leading graf--title">Angular Google Maps API</h3><figure name="18b2" id="18b2" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*QhBbJysgz2D4w_XaUPHaQA.png" data-width="1048" data-height="1016" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*QhBbJysgz2D4w_XaUPHaQA.png"><figcaption class="imageCaption">Google maps</figcaption></figure><p name="72c2" id="72c2" class="graf graf--p graf-after--figure">How to integrate Google Maps API into your Angular application without fear of third-party libraries? Not many Angular developers know about the most reliable way to do this and keep using the <a href="https://www.npmjs.com/package/@agm/core?activeTab=versions" data-href="https://www.npmjs.com/package/@agm/core?activeTab=versions" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">@agm/core</em></a> npm package.</p><p name="245f" id="245f" class="graf graf--p graf-after--p">AGM is a great package, but I just want to show you the alternative that is developed by the Angular team. They provided <a href="https://github.com/angular/components?tab=readme-ov-file#official-components-for-angular" data-href="https://github.com/angular/components?tab=readme-ov-file#official-components-for-angular" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">official components</a> for Angular projects such as <a href="https://github.com/angular/components/blob/main/src/google-maps/README.md" data-href="https://github.com/angular/components/blob/main/src/google-maps/README.md" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">@angular/google-maps</a>, @angular/youtube-player, @angular/material, etc.</p><figure name="081e" id="081e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*y77omqWFs7psUl4snrIyMQ.png" data-width="2206" data-height="1352" src="https://cdn-images-1.medium.com/max/800/1*y77omqWFs7psUl4snrIyMQ.png"><figcaption class="imageCaption"><a href="https://www.npmjs.com/package/@angular/google-maps" data-href="https://www.npmjs.com/package/@angular/google-maps" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">https://www.npmjs.com/package/@angular/google-maps</a></figcaption></figure><p name="761d" id="761d" class="graf graf--p graf-after--figure">So what can be better than official documentation? Let’s take a closer look at @angular/google-maps. It is the Angular component built on top of the <a href="https://developers.google.com/maps/documentation/javascript/tutorial" data-href="https://developers.google.com/maps/documentation/javascript/tutorial" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Google Maps JavaScript API</a> and it covers the most cases you need.</p><h4 name="ddbb" id="ddbb" class="graf graf--h4 graf-after--p">Agenda for this article:</h4><ol class="postList"><li name="fed6" id="fed6" class="graf graf--li graf-after--h4">Creating a Google map</li><li name="838b" id="838b" class="graf graf--li graf-after--li">Adding circles</li><li name="686b" id="686b" class="graf graf--li graf-after--li">Adding markers and info windows</li><li name="ebfb" id="ebfb" class="graf graf--li graf-after--li">Adding a search Input</li></ol><h4 name="f139" id="f139" class="graf graf--h4 graf-after--li">Installation</h4><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="sql" name="7e19" id="7e19" class="graf graf--pre graf-after--h4 graf--preV2"><span class="pre--content">ng <span class="hljs-keyword">add</span> <span class="hljs-variable">@angular</span><span class="hljs-operator">/</span>google<span class="hljs-operator">-</span>maps</span></pre><h4 name="1a78" id="1a78" class="graf graf--h4 graf-after--pre">Loading the API</h4><p name="df61" id="df61" class="graf graf--p graf-after--h4">Include the <a href="https://developers.google.com/maps/documentation/javascript/load-maps-js-api#dynamic-library-import" data-href="https://developers.google.com/maps/documentation/javascript/load-maps-js-api#dynamic-library-import" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Dynamic Library Import script</a> in the <code class="markup--code markup--p-code">index.html</code> of your app. When a Google Map is being rendered, it&#39;ll use the Dynamic Import API to load the necessary JavaScript automatically.</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="xml" name="3a6a" id="3a6a" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span><br /><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br /><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br />  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br />  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>AngularGoogleMaps<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br />  <span class="hljs-tag">&lt;<span class="hljs-name">base</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/&quot;</span>&gt;</span><br />  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span><br />  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;image/x-icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;favicon.ico&quot;</span>&gt;</span><br /><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br /><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br />  <span class="hljs-tag">&lt;<span class="hljs-name">app-root</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-root</span>&gt;</span><br />  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><br />    (<span class="hljs-function"><span class="hljs-params">g</span>=&gt;</span>{<span class="hljs-keyword">var</span> h,a,k,p=<span class="hljs-string">&quot;The Google Maps JavaScript API&quot;</span>,c=<span class="hljs-string">&quot;google&quot;</span>,l=<span class="hljs-string">&quot;importLibrary&quot;</span>,q=<span class="hljs-string">&quot;__ib__&quot;</span>,m=<span class="hljs-variable language_">document</span>,b=<span class="hljs-variable language_">window</span>;b=b[c]||(b[c]={});<span class="hljs-keyword">var</span> d=b.<span class="hljs-property">maps</span>||(b.<span class="hljs-property">maps</span>={}),r=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>,e=<span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>,u=<span class="hljs-function">()=&gt;</span>h||(h=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-title function_">async</span>(f,n)=&gt;{<span class="hljs-keyword">await</span> (a=m.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;script&quot;</span>));e.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;libraries&quot;</span>,[...r]+<span class="hljs-string">&quot;&quot;</span>);<span class="hljs-keyword">for</span>(k <span class="hljs-keyword">in</span> g)e.<span class="hljs-title function_">set</span>(k.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[A-Z]/g</span>,<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-string">&quot;_&quot;</span>+t[<span class="hljs-number">0</span>].<span class="hljs-title function_">toLowerCase</span>()),g[k]);e.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;callback&quot;</span>,c+<span class="hljs-string">&quot;.maps.&quot;</span>+q);a.<span class="hljs-property">src</span>=<span class="hljs-string">`https://maps.<span class="hljs-subst">${c}</span>apis.com/maps/api/js?`</span>+e;d[q]=f;a.<span class="hljs-property">onerror</span>=<span class="hljs-function">()=&gt;</span>h=<span class="hljs-title function_">n</span>(<span class="hljs-title class_">Error</span>(p+<span class="hljs-string">&quot; could not load.&quot;</span>));a.<span class="hljs-property">nonce</span>=m.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;script[nonce]&quot;</span>)?.<span class="hljs-property">nonce</span>||<span class="hljs-string">&quot;&quot;</span>;m.<span class="hljs-property">head</span>.<span class="hljs-title function_">append</span>(a)}));d[l]?<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(p+<span class="hljs-string">&quot; only loads once. Ignoring:&quot;</span>,g):d[l]=<span class="hljs-function">(<span class="hljs-params">f,...n</span>)=&gt;</span>r.<span class="hljs-title function_">add</span>(f)&amp;&amp;<span class="hljs-title function_">u</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>d[l](f,...n))})({<br />      <span class="hljs-attr">v</span>: <span class="hljs-string">&quot;weekly&quot;</span>,<br />      <span class="hljs-attr">key</span>: <span class="hljs-string">&#x27;YOUR-KEY-HERE&#x27;</span><br />    });<br />  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br /><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br /><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span></pre><p name="efbd" id="efbd" class="graf graf--p graf-after--pre">If you want to personalize your key for different users and load it from a database for example you can find out how to do this in the next article:</p><div name="0a8d" id="0a8d" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://levelup.gitconnected.com/how-to-integrate-third-party-sdk-into-angular-app-da34d03c9d98" data-href="https://levelup.gitconnected.com/how-to-integrate-third-party-sdk-into-angular-app-da34d03c9d98" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://levelup.gitconnected.com/how-to-integrate-third-party-sdk-into-angular-app-da34d03c9d98"><strong class="markup--strong markup--mixtapeEmbed-strong">How to Integrate Third-Party SDK into Angular App</strong><br><em class="markup--em markup--mixtapeEmbed-em">Most widely-used APIs provide comprehensive guides for JavaScript integration into web applications. However, adapting…</em>levelup.gitconnected.com</a><a href="https://levelup.gitconnected.com/how-to-integrate-third-party-sdk-into-angular-app-da34d03c9d98" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="233ac374bdbb045e63056d8c4f8b17c1" data-thumbnail-img-id="0*jVjbovW_bN4U9ytG" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*jVjbovW_bN4U9ytG);"></a></div><h4 name="4c60" id="4c60" class="graf graf--h4 graf-after--mixtapeEmbed">Creating a Google Map</h4><p name="7647" id="7647" class="graf graf--p graf-after--h4">Let&#39;s generate a new component for our map:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="bash" name="22b1" id="22b1" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-built_in">cd</span> src/app<br />ng g c angular-google-maps</span></pre><p name="47bf" id="47bf" class="graf graf--p graf-after--pre">Add and import Google Maps component with options:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="xml" name="276b" id="276b" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">&lt;!-- angular-google-maps.component.html --&gt;</span><br /><br /><span class="hljs-tag">&lt;<span class="hljs-name">google-map</span> [<span class="hljs-attr">options</span>]=<span class="hljs-string">&quot;options&quot;</span> /&gt;</span></span></pre><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="typescript" name="4a85" id="4a85" class="graf graf--pre graf-after--pre graf--preV2"><span class="pre--content"><span class="hljs-comment">// angular-google-maps.component.ts</span><br /><br /><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br /><span class="hljs-keyword">import</span> {<span class="hljs-title class_">GoogleMap</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@angular/google-maps&quot;</span>;<br /><br /><span class="hljs-meta">@Component</span>({<br />  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-angular-google-maps&#x27;</span>,<br />  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,<br />  <span class="hljs-attr">imports</span>: [<br />    <span class="hljs-title class_">GoogleMap</span><br />  ],<br />  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&#x27;./angular-google-maps.component.html&#x27;</span>,<br />  <span class="hljs-attr">styleUrl</span>: <span class="hljs-string">&#x27;./angular-google-maps.component.scss&#x27;</span><br />})<br /><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AngularGoogleMapsComponent</span> {<br /><br />  <span class="hljs-attr">options</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">MapOptions</span> = {<br />    <span class="hljs-attr">center</span>: {<span class="hljs-attr">lat</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">lng</span>: -<span class="hljs-number">20</span>},<br />    <span class="hljs-attr">zoom</span>: <span class="hljs-number">4</span><br />  };<br /><br />}</span></pre><p name="f924" id="f924" class="graf graf--p graf-after--pre">This will create a basic Google Map centered at coordinates (40, -20) with a zoom level of 4. If you do these steps you achieve the following result:</p><figure name="a97e" id="a97e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8Ix0pbNrId9mZnEhF1x5SA.png" data-width="1050" data-height="1028" src="https://cdn-images-1.medium.com/max/800/1*8Ix0pbNrId9mZnEhF1x5SA.png"><figcaption class="imageCaption">The rendered map</figcaption></figure><h4 name="4741" id="4741" class="graf graf--h4 graf-after--figure">Adding Circles</h4><p name="ab63" id="ab63" class="graf graf--p graf-after--h4">Circles are a great way to visualize data on a map. To add a circle to your map import the <code class="markup--code markup--p-code">MapCircle</code> component and create an array of circles:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="typescript" name="ca5d" id="ca5d" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">// angular-google-maps.component.ts</span><br /><br /><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br /><span class="hljs-keyword">import</span> {<span class="hljs-title class_">GoogleMap</span>, <span class="hljs-title class_">MapCircle</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@angular/google-maps&quot;</span>;<br /><br /><span class="hljs-meta">@Component</span>({<br />  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-angular-google-maps&#x27;</span>,<br />  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,<br />  <span class="hljs-attr">imports</span>: [<br />    <span class="hljs-title class_">GoogleMap</span>,<br />    <span class="hljs-title class_">MapCircle</span><br />  ],<br />  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&#x27;./angular-google-maps.component.html&#x27;</span>,<br />  <span class="hljs-attr">styleUrl</span>: <span class="hljs-string">&#x27;./angular-google-maps.component.scss&#x27;</span><br />})<br /><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AngularGoogleMapsComponent</span> {<br /><br />  <span class="hljs-attr">options</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">MapOptions</span> = {<br />    <span class="hljs-attr">center</span>: {<span class="hljs-attr">lat</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">lng</span>: -<span class="hljs-number">80</span>},<br />    <span class="hljs-attr">zoom</span>: <span class="hljs-number">4</span><br />  };<br />  <span class="hljs-attr">circles</span>: <span class="hljs-title class_">IMapCircle</span>[] = [<br />    {<br />      <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<br />      <span class="hljs-attr">lat</span>: <span class="hljs-number">40</span>,<br />      <span class="hljs-attr">lng</span>: -<span class="hljs-number">80</span>,<br />      <span class="hljs-attr">circleOptions</span>: {<br />        <span class="hljs-attr">fillColor</span>: <span class="hljs-string">&#x27;#ff0000&#x27;</span>,<br />        <span class="hljs-attr">fillOpacity</span>: <span class="hljs-number">0.5</span>,<br />        <span class="hljs-attr">strokeWeight</span>: <span class="hljs-number">1</span>,<br />        <span class="hljs-attr">strokeColor</span>: <span class="hljs-string">&#x27;#ff0000&#x27;</span>,<br />        <span class="hljs-attr">clickable</span>: <span class="hljs-literal">false</span>,<br />        <span class="hljs-attr">editable</span>: <span class="hljs-literal">false</span>,<br />        <span class="hljs-attr">zIndex</span>: <span class="hljs-number">1</span>,<br />        <span class="hljs-attr">radius</span>: <span class="hljs-number">100000</span> <span class="hljs-comment">// in meters</span><br />      }<br />    }<br />  ]<br /><br />}<br /><br /><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IMapCircleOptions</span>{<br />  <span class="hljs-attr">fillColor</span>: <span class="hljs-built_in">string</span>;<br />  <span class="hljs-attr">fillOpacity</span>: <span class="hljs-built_in">number</span>;<br />  <span class="hljs-attr">strokeWeight</span>: <span class="hljs-built_in">number</span>;<br />  <span class="hljs-attr">strokeColor</span>: <span class="hljs-built_in">string</span>;<br />  <span class="hljs-attr">clickable</span>: <span class="hljs-built_in">boolean</span>;<br />  <span class="hljs-attr">editable</span>: <span class="hljs-built_in">boolean</span>;<br />  <span class="hljs-attr">zIndex</span>: <span class="hljs-built_in">number</span>;<br />  <span class="hljs-attr">radius</span>: <span class="hljs-built_in">number</span>;<br />}<br /><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IMapCircle</span>{<br />  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;<br />  <span class="hljs-attr">lat</span>: <span class="hljs-built_in">number</span>;<br />  <span class="hljs-attr">lng</span>: <span class="hljs-built_in">number</span>;<br />  <span class="hljs-attr">circleOptions</span>: <span class="hljs-title class_">IMapCircleOptions</span>;<br />}</span></pre><p name="1fa0" id="1fa0" class="graf graf--p graf-after--pre">Add the circles to your map template:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="xml" name="28fc" id="28fc" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">&lt;!-- angular-google-maps.component.html --&gt;</span><br /><span class="hljs-tag">&lt;<span class="hljs-name">google-map</span> [<span class="hljs-attr">options</span>]=<span class="hljs-string">&quot;options&quot;</span>&gt;</span><br />  @for (circle of circles; track circle.id){<br />    <span class="hljs-tag">&lt;<span class="hljs-name">map-circle</span> [<span class="hljs-attr">options</span>]=<span class="hljs-string">&quot;circle.circleOptions&quot;</span><br />                [<span class="hljs-attr">center</span>]=<span class="hljs-string">&quot;circle&quot;</span><br />    /&gt;</span><br />  }<br /><span class="hljs-tag">&lt;/<span class="hljs-name">google-map</span>&gt;</span></span></pre><figure name="367a" id="367a" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*pxldb28HSMWuZ2a99kEVPg.png" data-width="1038" data-height="1026" src="https://cdn-images-1.medium.com/max/800/1*pxldb28HSMWuZ2a99kEVPg.png"><figcaption class="imageCaption">The map with a circle</figcaption></figure><p name="fbb3" id="fbb3" class="graf graf--p graf-after--figure">Now you may ask that you want to add a circle by clicking. It’s easy too. Make some changes to our code and add <code class="markup--code markup--p-code">mapClick</code>event:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="xml" name="abdb" id="abdb" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">&lt;!-- angular-google-maps.component.html --&gt;</span><br /><br /><span class="hljs-tag">&lt;<span class="hljs-name">google-map</span> [<span class="hljs-attr">options</span>]=<span class="hljs-string">&quot;options&quot;</span> (<span class="hljs-attr">mapClick</span>)=<span class="hljs-string">&quot;clickMap($event)&quot;</span>&gt;</span><br />  @for (circle of circles; track circle.id){<br />    <span class="hljs-tag">&lt;<span class="hljs-name">map-circle</span> [<span class="hljs-attr">options</span>]=<span class="hljs-string">&quot;circle.circleOptions&quot;</span><br />                [<span class="hljs-attr">center</span>]=<span class="hljs-string">&quot;circle&quot;</span><br />    /&gt;</span><br />  }<br /><span class="hljs-tag">&lt;/<span class="hljs-name">google-map</span>&gt;</span></span></pre><p name="3857" id="3857" class="graf graf--p graf-after--pre">Define <code class="markup--code markup--p-code">clickMap()</code> function:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="php" name="f325" id="f325" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">// angular-google-maps.component.ts</span><br /><br /><span class="hljs-title function_ invoke__">clickMap</span>(<span class="hljs-attr">event</span>: google.maps.MapMouseEvent) {<br />  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">lat</span> = event.latLng?.<span class="hljs-title function_ invoke__">lat</span>();<br />  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">lng</span> = event.latLng?.<span class="hljs-title function_ invoke__">lng</span>();<br />  this.circles.<span class="hljs-title function_ invoke__">push</span>({<br />    <span class="hljs-attr">id</span>: this.circles.length + <span class="hljs-number">1</span>,<br />    <span class="hljs-attr">lat</span>: lat,<br />    <span class="hljs-attr">lng</span>: lng,<br />    <span class="hljs-attr">circleOptions</span>: {<br />      <span class="hljs-attr">fillColor</span>: <span class="hljs-string">&#x27;#ff0000&#x27;</span>,<br />      <span class="hljs-attr">fillOpacity</span>: <span class="hljs-number">0.5</span>,<br />      <span class="hljs-attr">strokeWeight</span>: <span class="hljs-number">1</span>,<br />      <span class="hljs-attr">strokeColor</span>: <span class="hljs-string">&#x27;#ff0000&#x27;</span>,<br />      <span class="hljs-attr">clickable</span>: <span class="hljs-literal">false</span>,<br />      <span class="hljs-attr">editable</span>: <span class="hljs-literal">false</span>,<br />      <span class="hljs-attr">zIndex</span>: <span class="hljs-number">1</span>,<br />      <span class="hljs-attr">radius</span>: <span class="hljs-number">100000</span> // in meters<br />    }<br />  } <span class="hljs-keyword">as</span> IMapCircle);<br />}</span></pre><h4 name="ae02" id="ae02" class="graf graf--h4 graf-after--pre">Adding markers and info windows</h4><p name="7ecb" id="7ecb" class="graf graf--p graf-after--h4">Firstly, we need to import <code class="markup--code markup--p-code">MapMarker</code> and <code class="markup--code markup--p-code">MapInfoWindow</code> :</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="less" name="4ee8" id="4ee8" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-variable">@Component</span>({<br />  <span class="hljs-attribute">selector</span>: <span class="hljs-string">&#x27;app-angular-google-maps&#x27;</span>,<br />  <span class="hljs-attribute">standalone</span>: true,<br />  <span class="hljs-attribute">imports</span>: [<br />    GoogleMap,<br />    MapCircle,<br />    MapMarker,<br />    MapInfoWindow<br />  ],<br />  <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">&#x27;./angular-google-maps.component.html&#x27;</span>,<br />  <span class="hljs-attribute">styleUrl</span>: <span class="hljs-string">&#x27;./angular-google-maps.component.scss&#x27;</span><br />})</span></pre><p name="a444" id="a444" class="graf graf--p graf-after--pre">Next, we have to add <code class="markup--code markup--p-code">markerOptions</code> and <code class="markup--code markup--p-code">markerWindowInfo</code> to the <code class="markup--code markup--p-code">circles</code>:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="typescript" name="3542" id="3542" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">// angular-google-maps.component.ts</span><br /><br /><span class="hljs-attr">circles</span>: <span class="hljs-title class_">IMapCircle</span>[] = [<br />  {<br />    <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<br />    <span class="hljs-attr">lat</span>: <span class="hljs-number">40</span>,<br />    <span class="hljs-attr">lng</span>: -<span class="hljs-number">80</span>,<br />    <span class="hljs-attr">circleOptions</span>: {<br />      <span class="hljs-attr">fillColor</span>: <span class="hljs-string">&#x27;#ff0000&#x27;</span>,<br />      <span class="hljs-attr">fillOpacity</span>: <span class="hljs-number">0.5</span>,<br />      <span class="hljs-attr">strokeWeight</span>: <span class="hljs-number">1</span>,<br />      <span class="hljs-attr">strokeColor</span>: <span class="hljs-string">&#x27;#ff0000&#x27;</span>,<br />      <span class="hljs-attr">clickable</span>: <span class="hljs-literal">false</span>,<br />      <span class="hljs-attr">editable</span>: <span class="hljs-literal">false</span>,<br />      <span class="hljs-attr">zIndex</span>: <span class="hljs-number">1</span>,<br />      <span class="hljs-attr">radius</span>: <span class="hljs-number">100000</span> <span class="hljs-comment">// in meters</span><br />    },<br />    <span class="hljs-attr">markerOptions</span>: {<br />      <span class="hljs-attr">lat</span>: <span class="hljs-number">40</span>,<br />      <span class="hljs-attr">lng</span>: -<span class="hljs-number">80</span>,<br />      <span class="hljs-attr">label</span>: {<br />        <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;A&#x27;</span>,<br />        <span class="hljs-attr">className</span>: <span class="hljs-string">&#x27;circle-label&#x27;</span>,<br />        <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&#x27;12px&#x27;</span><br />      }<br />    },<br />    <span class="hljs-attr">markerWindowInfo</span>: {<br />      <span class="hljs-attr">html</span>: <span class="hljs-string">&#x27;&lt;div&gt;Marker A&lt;/div&gt;&#x27;</span><br />    }<br />  }<br />]</span></pre><p name="867c" id="867c" class="graf graf--p graf-after--pre">Add <code class="markup--code markup--p-code">@ViewChildren</code> for info windows:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="typescript" name="7c5c" id="7c5c" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">// angular-google-maps.component.ts</span><br /><br /><span class="hljs-meta">@ViewChildren</span>(<span class="hljs-title class_">MapInfoWindow</span>) infoWindows!: <span class="hljs-title class_">QueryList</span>&lt;<span class="hljs-title class_">MapInfoWindow</span>&gt;;</span></pre><p name="da3c" id="da3c" class="graf graf--p graf-after--pre">Define the function to open an info box:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="typescript" name="4b63" id="4b63" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">// angular-google-maps.component.ts</span><br /><br /><span class="hljs-title function_">openMarkerInfoWindow</span>(<span class="hljs-params">marker: MapMarker, markerIndex: <span class="hljs-built_in">number</span></span>) {<br />  <span class="hljs-variable language_">this</span>.<span class="hljs-property">infoWindows</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">infoWindow: MapInfoWindow, index: <span class="hljs-built_in">number</span> </span>) =&gt;</span> {<br />    <span class="hljs-keyword">if</span> (index === markerIndex) {<br />      infoWindow.<span class="hljs-title function_">open</span>(marker);<br />    } <span class="hljs-keyword">else</span> {<br />      infoWindow.<span class="hljs-title function_">close</span>();<br />    }<br />  });<br />}</span></pre><p name="1280" id="1280" class="graf graf--p graf-after--pre">Change HTML component:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="xml" name="9fb5" id="9fb5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-comment">&lt;!-- angular-google-maps.component.html --&gt;</span><br /><br /><span class="hljs-tag">&lt;<span class="hljs-name">google-map</span> [<span class="hljs-attr">options</span>]=<span class="hljs-string">&quot;options&quot;</span> (<span class="hljs-attr">mapClick</span>)=<span class="hljs-string">&quot;clickMap($event)&quot;</span>&gt;</span><br />  @for (circle of circles; track circle.id){<br />    <span class="hljs-tag">&lt;<span class="hljs-name">map-circle</span> [<span class="hljs-attr">options</span>]=<span class="hljs-string">&quot;circle.circleOptions&quot;</span><br />                [<span class="hljs-attr">center</span>]=<span class="hljs-string">&quot;circle&quot;</span><br />    /&gt;</span><br />    <span class="hljs-tag">&lt;<span class="hljs-name">map-marker</span> #<span class="hljs-attr">marker</span>=<span class="hljs-string">&quot;mapMarker&quot;</span> [<span class="hljs-attr">position</span>]=<span class="hljs-string">&quot;circle.markerOptions&quot;</span> [<span class="hljs-attr">options</span>]=<span class="hljs-string">&quot;circle.markerOptions&quot;</span> (<span class="hljs-attr">mapClick</span>)=<span class="hljs-string">&quot;openMarkerInfoWindow(marker, index)&quot;</span> /&gt;</span><br />    <span class="hljs-tag">&lt;<span class="hljs-name">map-info-window</span>&gt;</span><br />         <span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">&quot;circle.markerWindowInfo.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br />    <span class="hljs-tag">&lt;/<span class="hljs-name">map-info-window</span>&gt;</span><br />  }<br /><span class="hljs-tag">&lt;/<span class="hljs-name">google-map</span>&gt;</span><br /><br /></span></pre><p name="54e5" id="54e5" class="graf graf--p graf-after--pre">Here is what it should be like:</p><figure name="97f2" id="97f2" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*QhBbJysgz2D4w_XaUPHaQA.png" data-width="1048" data-height="1016" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*QhBbJysgz2D4w_XaUPHaQA.png"><figcaption class="imageCaption">The map with markers and info windows</figcaption></figure><h4 name="2694" id="2694" class="graf graf--h4 graf-after--figure">Search Input</h4><p name="6cf1" id="6cf1" class="graf graf--p graf-after--h4">If you want to add search input to the map you can find the solution in <a href="https://medium.com/u/6cd4fff6b841" data-href="https://medium.com/u/6cd4fff6b841" data-anchor-type="2" data-user-id="6cd4fff6b841" data-action-value="6cd4fff6b841" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Kevin Kreuzer</a> article:</p><div name="05d4" id="05d4" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://kevinkreuzer.medium.com/how-to-implement-an-address-search-with-angular-and-google-maps-32a2df09f8e9" data-href="https://kevinkreuzer.medium.com/how-to-implement-an-address-search-with-angular-and-google-maps-32a2df09f8e9" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://kevinkreuzer.medium.com/how-to-implement-an-address-search-with-angular-and-google-maps-32a2df09f8e9"><strong class="markup--strong markup--mixtapeEmbed-strong">How to implement an address search with Angular and Google Maps</strong><br><em class="markup--em markup--mixtapeEmbed-em">With more than a billion monthly users, Google Maps is one of the most used/known applications. Since Angular version…</em>kevinkreuzer.medium.com</a><a href="https://kevinkreuzer.medium.com/how-to-implement-an-address-search-with-angular-and-google-maps-32a2df09f8e9" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="3b1ffaa3a43467e0ba8c8b0f11e401a0" data-thumbnail-img-id="1*j7Ghm1gem6ZBEk9g-Zcl3A.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*j7Ghm1gem6ZBEk9g-Zcl3A.png);"></a></div></div></div></section><section name="c91b" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="fe79" id="fe79" class="graf graf--p graf--leading">And there we have it. You can find the full source code on my <a href="https://github.com/TeslenkoOleg/angular-google-maps" data-href="https://github.com/TeslenkoOleg/angular-google-maps" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">GitHub page</a>. I strongly recommend looking at the <a href="https://github.com/angular/components/blob/main/src/google-maps/README.md" data-href="https://github.com/angular/components/blob/main/src/google-maps/README.md" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">official documentation</a> for additional features.</p><p name="99e6" id="99e6" class="graf graf--p graf-after--p">Thank you for reading. If you have any questions you can find me on <a href="https://www.linkedin.com/in/oleh-teslenko-720443161/" data-href="https://www.linkedin.com/in/oleh-teslenko-720443161/" class="markup--anchor markup--p-anchor" rel="noopener ugc nofollow noopener" target="_blank">LinkedIn</a>. Feel free to leave comments. You can also read my previous articles:</p><div name="07e8" id="07e8" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://levelup.gitconnected.com/how-to-create-npm-library-using-existing-angular-code-f6adc491693a" data-href="https://levelup.gitconnected.com/how-to-create-npm-library-using-existing-angular-code-f6adc491693a" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://levelup.gitconnected.com/how-to-create-npm-library-using-existing-angular-code-f6adc491693a"><strong class="markup--strong markup--mixtapeEmbed-strong">How to Create NPM Library Using Existing Angular Code</strong><br><em class="markup--em markup--mixtapeEmbed-em">Angular libraries provide a powerful mechanism for code sharing and modular development in Angular applications. By…</em>levelup.gitconnected.com</a><a href="https://levelup.gitconnected.com/how-to-create-npm-library-using-existing-angular-code-f6adc491693a" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="3dbe773e24645af58f2ab51e4f5bcf9e" data-thumbnail-img-id="1*NEzwqw1Anzxmm6m-bX9qig.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*NEzwqw1Anzxmm6m-bX9qig.png);"></a></div><div name="90a2" id="90a2" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://javascript.plainenglish.io/mastering-nested-reactive-forms-in-angular-477365e5ce11" data-href="https://javascript.plainenglish.io/mastering-nested-reactive-forms-in-angular-477365e5ce11" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://javascript.plainenglish.io/mastering-nested-reactive-forms-in-angular-477365e5ce11"><strong class="markup--strong markup--mixtapeEmbed-strong">Mastering Nested Reactive Forms in Angular</strong><br><em class="markup--em markup--mixtapeEmbed-em">Understanding using formGroupName directive inside child components</em>javascript.plainenglish.io</a><a href="https://javascript.plainenglish.io/mastering-nested-reactive-forms-in-angular-477365e5ce11" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="e7ed2a8ac1b7b988bc18869812dbf44c" data-thumbnail-img-id="1*2mmAbCFnKfCx1bfyZJCwcw.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*2mmAbCFnKfCx1bfyZJCwcw.png);"></a></div><div name="52e5" id="52e5" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://levelup.gitconnected.com/automatic-application-deployment-using-bitbucket-pipelines-9fa8680e4371" data-href="https://levelup.gitconnected.com/automatic-application-deployment-using-bitbucket-pipelines-9fa8680e4371" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://levelup.gitconnected.com/automatic-application-deployment-using-bitbucket-pipelines-9fa8680e4371"><strong class="markup--strong markup--mixtapeEmbed-strong">Automatic Application Deployment Using Bitbucket Pipelines</strong><br><em class="markup--em markup--mixtapeEmbed-em">If you want to automate your routine working days this article is for you. You can find my experience using Bitbucket…</em>levelup.gitconnected.com</a><a href="https://levelup.gitconnected.com/automatic-application-deployment-using-bitbucket-pipelines-9fa8680e4371" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0335d46d7005686f54c976a761ccd0cd" data-thumbnail-img-id="1*DodMO9jDtkg3pYO5y1H_ZQ.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*DodMO9jDtkg3pYO5y1H_ZQ.png);"></a></div></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@teslenkooleg2017" class="p-author h-card">Oleh Teslenko</a> on <a href="https://medium.com/p/11af43f2fea4"><time class="dt-published" datetime="2024-01-28T20:23:24.417Z">January 28, 2024</time></a>.</p><p><a href="https://medium.com/@teslenkooleg2017/angular-google-maps-api-11af43f2fea4" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 8, 2024.</p></footer></article></body></html>